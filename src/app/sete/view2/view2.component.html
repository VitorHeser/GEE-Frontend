<p-table #dt [value]="empresas" *ngIf="loading" class="ui-g-12" >
        
  <ng-template pTemplate="header" style="font-size: 10px !important;">
      <tr >
          <th rowspan="2" style="background-color: darkblue; color: white; text-align: center; width: 200px; border: 1px solid #ddd">Concessionária</th>
          <th rowspan="2" style="background-color: darkblue; color: white; text-align: center; width: 200px; border: 1px solid #ddd">Und. Negócio</th>
          <th rowspan="2" style="background-color: darkblue; color: white; text-align: center; width: 100px; border: 1px solid #ddd">Dt.Reaj.</th>
          <th colspan="5" style="background-color: darkblue; color: white; text-align: center; border: 1px solid #ddd">{{ano}}</th>
          <th colspan="5" style="background-color: darkblue; color: white; text-align: center; border: 1px solid #ddd">{{ano+1}}</th>
          <th colspan="5" style="background-color: darkblue; color: white; text-align: center; border: 1px solid #ddd">{{ano+2}}</th>
      </tr>
      <tr style="font-size: 10px;">
          <th style="background-color: #bcbde4;text-align: center; border: 1px solid #ddd">Prop. Custo ACL</th>
          <th style="background-color: #bcbde4;text-align: center; border: 1px solid #ddd">Prop. Custo ACR + TUSD</th>
          <th style="background-color: #bcbde4;text-align: center; border: 1px solid #ddd">Efeito Médio ACL</th>
          <th style="background-color: #bcbde4;text-align: center; border: 1px solid #ddd">Efeito Médio ACR</th>
          <th style="background-color: #bcbde4;text-align: center; border: 1px solid #ddd">Efeito Médio Resultante Esperado</th>
          <th style="background-color: #bcbde4;text-align: center; border: 1px solid #ddd">Prop. Custo ACL</th>
          <th style="background-color: #bcbde4;text-align: center; border: 1px solid #ddd">Prop. Custo ACR + TUSD</th>
          <th style="background-color: #bcbde4;text-align: center; border: 1px solid #ddd">Efeito Médio ACL</th>
          <th style="background-color: #bcbde4;text-align: center; border: 1px solid #ddd">Efeito Médio ACR</th>
          <th style="background-color: #bcbde4;text-align: center; border: 1px solid #ddd">Efeito Médio Resultante Esperado</th>
          <th style="background-color: #bcbde4;text-align: center; border: 1px solid #ddd">Prop. Custo ACL</th>
          <th style="background-color: #bcbde4;text-align: center; border: 1px solid #ddd">Prop. Custo ACR + TUSD</th>
          <th style="background-color: #bcbde4;text-align: center; border: 1px solid #ddd">Efeito Médio ACL</th>
          <th style="background-color: #bcbde4;text-align: center; border: 1px solid #ddd">Efeito Médio ACR</th>
          <th style="background-color: #bcbde4;text-align: center; border: 1px solid #ddd">Efeito Médio Resultante Esperado</th>

      </tr>
  </ng-template>
  <ng-template pTemplate="body" let-empresa>
      <tr style="text-align: center; height: 40px; font-size: 13px;">
          <td>{{ empresa["empresaUndNeg"].empresa }}</td>
          <td>{{ empresa["descricao"] }}</td>
          <td>{{ arrayCompletoParaTabela1[empresas.indexOf(empresa)].reajuste }}</td>
          <td>{{ arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo12.toLocaleString(undefined, {minimumFractionDigits: 2,maximumFractionDigits: 2}) + "%" }}</td>
          <td>{{ arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo11.toLocaleString(undefined, {minimumFractionDigits: 2,maximumFractionDigits: 2}) + "%" }}</td>
          <td>{{ arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo13.toLocaleString(undefined, {minimumFractionDigits: 2,maximumFractionDigits: 2}) + "%" }}</td>
          <td style="text-align: center; border: 1px solid #ddd">
              <p-progressBar 
              class="{{arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo14 >0 ? 'redBar' : 'blueBar'}}" 
              [value]="arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo14 < 0 ? 
                      -arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo14*1.3 : 
                       arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo14*1.3"></p-progressBar>
              <div style="margin-top:-18px; margin-left: 15px; font-size: 10px; position: fixed; font-weight: bold;">
                {{  arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo14.toLocaleString(undefined, {minimumFractionDigits: 2,maximumFractionDigits: 2}) + "%" }}
            </div>
          </td>
          <td style="text-align: center; border: 1px solid #ddd">
              <p-progressBar 
              class="{{arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo15 >0 ? 'redBar' : 'blueBar'}}" 
              [value]="arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo15 < 0 ? 
                      -arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo15*1.3 : 
                       arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo15*1.3"></p-progressBar>
              <div style="margin-top:-18px; margin-left: 15px; font-size: 10px; position: fixed; font-weight: bold;">
                {{  arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo15.toLocaleString(undefined, {minimumFractionDigits: 2,maximumFractionDigits: 2}) + "%" }}
            </div>
          </td>
          <!-- ================================================================================== -->
          <td>{{ arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo22.toLocaleString(undefined, {minimumFractionDigits: 2,maximumFractionDigits: 2}) + "%" }}</td>
          <td>{{ arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo21.toLocaleString(undefined, {minimumFractionDigits: 2,maximumFractionDigits: 2}) + "%" }}</td>
          <td>{{ arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo23.toLocaleString(undefined, {minimumFractionDigits: 2,maximumFractionDigits: 2}) + "%" }}</td>
          <td style="text-align: center; border: 1px solid #ddd">
            <p-progressBar 
            class="{{arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo24 >0 ? 'redBar' : 'blueBar'}}" 
            [value]="arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo24 < 0 ? 
                    -arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo24*1.3 : 
                     arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo24*1.3"></p-progressBar>
            <div style="margin-top:-18px; margin-left: 15px; font-size: 10px; position: fixed; font-weight: bold;">
              {{  arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo24.toLocaleString(undefined, {minimumFractionDigits: 2,maximumFractionDigits: 2}) + "%" }}
            </div>
          </td>
          <td style="text-align: center; border: 1px solid #ddd">
            <p-progressBar 
            class="{{arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo25 >0 ? 'redBar' : 'blueBar'}}" 
            [value]="arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo25 < 0 ? 
            -arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo25*1.3 : 
            arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo25*1.3"></p-progressBar>
            <div style="margin-top:-18px; margin-left: 15px; font-size: 10px; position: fixed; font-weight: bold;">
              {{  arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo25.toLocaleString(undefined, {minimumFractionDigits: 2,maximumFractionDigits: 2}) + "%" }}
            </div>
          </td>
          <!-- ================================================================================== -->
          <td>{{ arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo32.toLocaleString(undefined, {minimumFractionDigits: 2,maximumFractionDigits: 2}) + "%" }}</td>
          <td>{{ arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo31.toLocaleString(undefined, {minimumFractionDigits: 2,maximumFractionDigits: 2}) + "%" }}</td>
          <td>{{ arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo33.toLocaleString(undefined, {minimumFractionDigits: 2,maximumFractionDigits: 2}) + "%" }}</td>
          <td style="text-align: center; border: 1px solid #ddd">
              <p-progressBar 
              class="{{arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo34 >0 ? 'redBar' : 'blueBar'}}" 
              [value]="arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo34 < 0 ? 
                      -arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo34*1.3 : 
                       arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo34*1.3"></p-progressBar>
              <div style="margin-top:-18px; margin-left: 15px; font-size: 10px; position: fixed; font-weight: bold;">
                {{  arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo34.toLocaleString(undefined, {minimumFractionDigits: 2,maximumFractionDigits: 2}) + "%" }}
            </div>
          </td>
          <td style="text-align: center; border: 1px solid #ddd">
              <p-progressBar 
              class="{{arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo35 >0 ? 'redBar' : 'blueBar'}}" 
              [value]="arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo35 < 0 ? 
                      -arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo35*1.3 : 
                       arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo35*1.3"></p-progressBar>
              <div style="margin-top:-18px; margin-left: 15px; font-size: 10px; position: fixed; font-weight: bold;">
                {{  arrayCompletoParaTabela1[empresas.indexOf(empresa)].campo35.toLocaleString(undefined, {minimumFractionDigits: 2,maximumFractionDigits: 2}) + "%" }}
            </div>
          </td>
      </tr>
  </ng-template>
  <ng-template pTemplate="footer">
    <tr>
        <th colspan="6" style="background-color: darkblue; color: white; text-align: center; border: 1px solid #ddd"></th>
        <td style="text-align: center; border: 1px solid #ddd">
          <p-progressBar 
          class="{{totaisCompletoParaTabela1[1].efeitomediores1 >0 ? 'redBar' : 'blueBar'}}" 
          [value]="totaisCompletoParaTabela1[1].efeitomediores1 < 0 ? 
                  -totaisCompletoParaTabela1[1].efeitomediores1*1.3 : 
                   totaisCompletoParaTabela1[1].efeitomediores1*1.3"></p-progressBar>
          <div style="margin-top:-18px; margin-left: 15px; font-size: 10px; position: fixed; font-weight: bold;">
              {{  totaisCompletoParaTabela1[1].efeitomediores1.toLocaleString(undefined, {minimumFractionDigits: 2,maximumFractionDigits: 2}) + "%" }}
          </div>
        </td>
        <td style="text-align: center; border: 1px solid #ddd">
          <p-progressBar 
          class="{{totaisCompletoParaTabela1[0].efeitomediores1 >0 ? 'redBar' : 'blueBar'}}" 
          [value]="totaisCompletoParaTabela1[0].efeitomediores1 < 0 ? 
                  -totaisCompletoParaTabela1[0].efeitomediores1*1.3 : 
                   totaisCompletoParaTabela1[0].efeitomediores1*1.3"></p-progressBar>
          <div style="margin-top:-18px; margin-left: 15px; font-size: 10px; position: fixed; font-weight: bold;">
              {{  totaisCompletoParaTabela1[0].efeitomediores1.toLocaleString(undefined, {minimumFractionDigits: 2,maximumFractionDigits: 2}) + "%" }}
          </div>
        </td>
        <!-- ================================================================================ -->
        <th colspan="3" style="background-color: darkblue; color: white; text-align: center; border: 1px solid #ddd"></th>
        <td style="text-align: center; border: 1px solid #ddd">
          <p-progressBar 
          class="{{totaisCompletoParaTabela1[1].efeitomediores2 >0 ? 'redBar' : 'blueBar'}}" 
          [value]="totaisCompletoParaTabela1[1].efeitomediores2 < 0 ? 
                  -totaisCompletoParaTabela1[1].efeitomediores2*1.3 : 
                   totaisCompletoParaTabela1[1].efeitomediores2*1.3"></p-progressBar>
          <div style="margin-top:-18px; margin-left: 15px; font-size: 10px; position: fixed; font-weight: bold;">
              {{  totaisCompletoParaTabela1[1].efeitomediores2.toLocaleString(undefined, {minimumFractionDigits: 2,maximumFractionDigits: 2}) + "%" }}
          </div>
          
        </td>
        <td style="text-align: center; border: 1px solid #ddd">
          <p-progressBar 
          class="{{totaisCompletoParaTabela1[0].efeitomediores2 >0 ? 'redBar' : 'blueBar'}}" 
          [value]="totaisCompletoParaTabela1[0].efeitomediores2 < 0 ? 
                  -totaisCompletoParaTabela1[0].efeitomediores2*1.3 : 
                   totaisCompletoParaTabela1[0].efeitomediores2*1.3"></p-progressBar>
          <div style="margin-top:-18px; margin-left: 15px; font-size: 10px; position: fixed; font-weight: bold;">
              {{  totaisCompletoParaTabela1[0].efeitomediores2.toLocaleString(undefined, {minimumFractionDigits: 2,maximumFractionDigits: 2}) + "%" }}
          </div>
        </td>
        <!-- ================================================================================ -->
        <th colspan="3" style="background-color: darkblue; color: white; text-align: center; border: 1px solid #ddd"></th>
        <td style="text-align: center; border: 1px solid #ddd">
          <p-progressBar 
          class="{{totaisCompletoParaTabela1[1].efeitomediores3 >0 ? 'redBar' : 'blueBar'}}" 
          [value]="totaisCompletoParaTabela1[1].efeitomediores3 < 0 ? 
                  -totaisCompletoParaTabela1[1].efeitomediores3*1.3 : 
                   totaisCompletoParaTabela1[1].efeitomediores3*1.3"></p-progressBar>
          <div style="margin-top:-18px; margin-left: 15px; font-size: 10px; position: fixed; font-weight: bold;">
              {{  totaisCompletoParaTabela1[1].efeitomediores3.toLocaleString(undefined, {minimumFractionDigits: 2,maximumFractionDigits: 2}) + "%" }}
          </div>
          
        </td>
        <td style="text-align: center; border: 1px solid #ddd">
          <p-progressBar 
          class="{{totaisCompletoParaTabela1[0].efeitomediores3 >0 ? 'redBar' : 'blueBar'}}" 
          [value]="totaisCompletoParaTabela1[0].efeitomediores3 < 0 ? 
                  -totaisCompletoParaTabela1[0].efeitomediores3*1.3 : 
                   totaisCompletoParaTabela1[0].efeitomediores3*1.3"></p-progressBar>
          <div style="margin-top:-18px; margin-left: 15px; font-size: 10px; position: fixed; font-weight: bold;">
              {{  totaisCompletoParaTabela1[0].efeitomediores3.toLocaleString(undefined, {minimumFractionDigits: 2,maximumFractionDigits: 2}) + "%" }}
          </div>
        </td>
    </tr>
  </ng-template>
</p-table>